name: Supabase Keepalive

on:
  schedule:
    # 매주 월요일 오전 9시(UTC) = 한국시간 월요일 오후 6시
    - cron: '0 9 * * 1'
  workflow_dispatch:

jobs:
  keepalive:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Supabase
        run: |
          echo "Supabase keepalive ping"
          # Supabase 연동 시 아래 주석 해제 후 사용
          # curl -X GET "${{ secrets.SUPABASE_URL }}/rest/v1/" \
          #   -H "apikey: ${{ secrets.SUPABASE_ANON_KEY }}" \
          #   -H "Authorization: Bearer ${{ secrets.SUPABASE_ANON_KEY }}"
          echo "Keepalive completed at $(date)"

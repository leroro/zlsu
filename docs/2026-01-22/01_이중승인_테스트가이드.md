# 이중 승인 시스템 테스트 가이드

## 개요
회원 가입 시 추천인 승인 → 관리자 승인의 2단계 승인 프로세스 테스트 방법

---

## 테스트 계정

### 일반 회원 (추천인 역할)
| 이메일 | 비밀번호 | 이름 | 비고 |
|--------|----------|------|------|
| hansunwoo@test.com | test123 | 한선우 | 김대기의 추천인 |
| leroro@inseq.co.kr | test123 | 임미선 | 이승인의 추천인 |
| seobumsu@test.com | test123 | 서범수 | 박반려의 추천인 |

### 승인 대기 회원 (신청자 역할)
| 이메일 | 비밀번호 | 이름 | 상태 |
|--------|----------|------|------|
| pending@test.com | test123 | 김대기 | 추천인 승인 대기 |
| pending2@test.com | test123 | 이승인 | 관리자 승인 대기 |
| pending3@test.com | test123 | 박반려 | 추천인 반려됨 |

### 관리자
| 이메일 | 비밀번호 |
|--------|----------|
| admin | zlsu2024! |

---

## 테스트 시나리오

### 1. 신청자 플로우 테스트

#### 1-1. 추천인 승인 대기 상태 확인
1. `pending@test.com` / `test123`으로 로그인
2. 홈페이지에서 가입 진행 현황 확인
   - ✅ 신청서 제출 완료
   - ⏳ 추천인(한선우) 승인 대기 중 (현재 단계)
   - ⬚ 운영진 승인 대기
   - ⬚ 가입 완료
3. 가입비 납부 안내가 아직 표시되지 않는지 확인

#### 1-2. 관리자 승인 대기 상태 확인
1. `pending2@test.com` / `test123`으로 로그인
2. 홈페이지에서 가입 진행 현황 확인
   - ✅ 신청서 제출 완료
   - ✅ 추천인 승인 완료
   - ⏳ 운영진 승인 대기 중 (현재 단계)
   - ⬚ 가입 완료
3. 가입비 납부 안내가 표시되는지 확인

#### 1-3. 반려 상태 확인
1. `pending3@test.com` / `test123`으로 로그인
2. 홈페이지에서 반려 화면 확인
   - "가입이 반려되었습니다" 메시지
   - 반려 사유 표시
   - [수정 후 재신청] / [가입 포기] 버튼

---

### 2. 추천인 플로우 테스트

#### 2-1. 할 일 섹션 확인
1. `hansunwoo@test.com` / `test123`으로 로그인
2. 홈페이지에서 "할 일" 섹션 확인
   - "김대기님의 가입 승인 요청" 표시
   - [승인하기 →] 버튼

#### 2-2. 승인 처리
1. 할 일 섹션에서 승인 요청 클릭
2. 추천인 승인 페이지 확인
   - 신청자 정보 (이름, 연락처, 수영 레벨, 주종목, 자기소개)
   - 체크박스 2개:
     - "이 분이 동호회에 적합하다고 생각하여 추천합니다."
     - "승인 후 동호회 규칙과 이용 방법을 안내하고, 모임에 잘 융화될 수 있도록 도와주겠습니다."
3. 두 체크박스 모두 체크하지 않으면 [승인] 버튼 비활성화
4. 두 체크박스 모두 체크 후 [승인] 클릭
5. 성공 메시지 확인 후 홈으로 이동
6. 할 일 섹션에서 해당 요청 사라짐

#### 2-3. 반려 처리
1. `seobumsu@test.com` / `test123`으로 로그인 (박반려의 추천인)
   - (주의: 박반려는 이미 반려된 상태이므로, 새로운 테스트 회원으로 테스트 필요)
2. 새로 가입 신청 생성:
   - 로그아웃 후 가입 신청 페이지에서 새 계정 신청
   - 추천인으로 "서범수" 선택
3. 서범수로 로그인하여 [반려] 클릭
4. 반려 사유 입력 필수 확인
5. 반려 처리 후 신청자 계정으로 로그인하여 반려 화면 확인

---

### 3. 관리자 플로우 테스트

#### 3-1. 승인 대기 목록 확인
1. `admin` / `zlsu2024!`으로 로그인
2. 관리자 > 신청 관리 > 가입 신청 탭
3. 확인 사항:
   - "추천인 승인이 완료된 신청만 표시됩니다" 안내 메시지
   - 추천인 승인 완료된 회원만 목록에 표시 (이승인)
   - 추천인 승인 대기 중인 회원 미표시 (김대기)

#### 3-2. 추천인 승인 정보 확인
1. 목록에서 이승인 회원 카드 확인
   - 녹색 박스: "추천인 승인 완료"
   - 추천인: 임미선
   - 승인일 표시
   - "적합성 추천", "멘토링 약속" 태그

#### 3-3. 관리자 승인 처리
1. [승인] 버튼 클릭
2. 확인 대화상자: "승인 시 회원으로 등록됩니다"
3. 승인 후:
   - 목록에서 해당 회원 사라짐
   - 해당 계정으로 로그인 시 정상 회원으로 동작

#### 3-4. 관리자 반려 처리
1. [반려] 버튼 클릭
2. 반려 사유 입력 모달
3. 반려 후 해당 계정으로 로그인 시 반려 화면 표시

---

### 4. 가입 신청 페이지 테스트

#### 4-1. 추천인 안내 문구 확인
1. 로그아웃 상태에서 가입 신청 페이지 이동
2. 3단계(부가정보)에서 추천인 선택 필드 확인
3. 경고 박스 확인:
   - "⚠️ 추천인 없이는 가입할 수 없습니다"
   - "본인이 실제로 아는 회원을 선택해 주세요. 추천인이 승인해야 가입이 진행됩니다."

#### 4-2. 신규 가입 신청 전체 플로우
1. 가입 신청 완료
2. 신청 완료 화면에서 가입 진행 순서 안내 확인
3. 로그인하여 추천인 승인 대기 상태 확인

---

## 데이터 초기화 방법

테스트 후 데이터 초기화가 필요한 경우:

```javascript
// 브라우저 개발자 도구 콘솔에서 실행
localStorage.clear();
location.reload();
```

또는 개발 서버에서:
```
npm run dev
```
후 앱 접속 시 자동으로 초기 데이터 로드

---

## 주의사항

1. **localStorage 기반**: 모든 데이터가 브라우저 localStorage에 저장됨
2. **브라우저별 독립**: 다른 브라우저/시크릿 모드에서는 별도 데이터
3. **테스트 순서**: 승인 처리 후 해당 테스트 케이스는 재사용 불가 (데이터 초기화 필요)
4. **실제 API 연동 전**: Mock 데이터 기반이므로 실제 서버 연동 시 API 수정 필요

# 세션 간 통신 프로토콜

## 개요
이 폴더는 세션 1(리드)과 세션 2(워커) 간의 통신을 위한 파일들을 관리합니다.

---

## 폴더 구조

```
docs/세션_통신/
├── README_프로토콜.md     # 이 파일 (규칙 정의)
├── 현재_작업.md           # 세션 2가 수행할 현재 작업 명세
├── 세션2_로그.md          # 세션 2의 작업 진행 로그
└── 상태.json              # 현재 상태 (running/waiting/done)
```

---

## 세션 2 작업 규칙

### 1. 시작할 때
```
1. `상태.json` 확인 → status가 "waiting"이면 작업 시작
2. `현재_작업.md` 읽고 작업 내용 파악
3. `상태.json`의 status를 "running"으로 변경
4. `세션2_로그.md`에 작업 시작 기록
```

### 2. 작업 중
```
1. 작업 진행하며 주요 단계마다 `세션2_로그.md`에 기록
2. 빌드 에러 발생 시 로그에 기록 후 해결 시도
3. 해결 불가 시 `상태.json`을 "blocked"로 변경하고 대기
```

### 3. 작업 완료 후
```
1. npm run build 성공 확인
2. git commit (이슈번호 #1 포함)
3. `세션2_로그.md`에 완료 기록 (커밋 해시 포함)
4. `현재_작업.md`의 "후속 작업" 섹션 확인
   - 있으면: 해당 작업 수행
   - 없으면: `상태.json`을 "done"으로 변경
5. 모든 작업 완료 시 세션 종료
```

---

## 상태.json 형식

```json
{
  "status": "waiting|running|blocked|done",
  "current_task": "작업 설명",
  "updated_at": "2026-01-23T10:00:00",
  "message": "추가 메시지 (blocked 시 이유 등)"
}
```

---

## 로그 형식

```markdown
## [시간] 작업명
- 상태: 시작/진행중/완료/실패
- 내용: 작업 내용 설명
- 결과: 성공/실패 및 커밋 해시
```

---

## 세션 1(리드) 역할

1. `현재_작업.md` 작성/업데이트
2. `세션2_로그.md` 모니터링
3. blocked 상태 시 해결 방안 제시
4. 후속 작업 명세서 작성
